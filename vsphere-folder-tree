#!/usr/bin/env python
# $Id: vsphere-folder-tree,v 1.2 2018/07/19 00:48:39 friedman Exp $

from __future__ import print_function
import vspherelib as vsl
import re

def main():
    args = vsl.ArgumentParser().parse_args()
    vsi  = vsl.vmomiConnect( args )

    ptbl = vsi.path_to_folder_map()
    for p in sorted( ptbl.keys() ):
        p = p[1:]
        if p.count( '/' ):
            p = re.sub( '[^/]*/', '    ', p )
        print( p )

if __name__ == '__main__':
    main()
