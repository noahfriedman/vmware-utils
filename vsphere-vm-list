#!/usr/bin/env python
# vsphere-vm-list --- display name of all known virtual machines

# Author: Noah Friedman <friedman@splode.com>
# Created: 2018-05-08
# Public domain

# $Id: vsphere-vm-list,v 1.3 2018/07/21 17:18:36 friedman Exp $

# Commentary:
# Code:

from   __future__ import print_function
from   pyVmomi    import vim
import vspherelib     as vsl

def main():
    args = vsl.ArgumentParser().parse_args()
    vsi  = vsl.vmomiConnect( args )

    vmlist = vsi.get_obj_props( [vim.VirtualMachine], [ 'name' ] )
    namelist = [ vm[ 'name' ] for vm in vmlist ]
    namelist.sort()

    for name in namelist:
        print( name )

if __name__ == '__main__':
    main()

# vsphere-vm-list ends here
